<head><script type="module">import{createPinia as e,defineStore as t,storeToRefs as a}from'https://testingcf.jsdelivr.net/npm/pinia/+esm';var n={502(e,t){t.A=(e,t)=>{const a=e.__vccOpts||e;for(const[e,n]of t)a[e]=n;return a}}},l={};const o=Vue,r=t('status-bar-stat-data',()=>{const e=(0,o.ref)(null),t=(0,o.ref)(!0),a=(0,o.ref)(null),n=(0,o.ref)(null);return{data:e,loading:t,error:a,lastRefreshTime:n,refresh:()=>{try{t.value=!0;const l=getVariables({type:'message',message_id:getCurrentMessageId()}),o=_.get(l,'stat_data',{});if(!o||0===Object.keys(o).length)throw new Error('KhÃ´ng thá»ƒ láº¥y dá»¯ liá»‡u tráº¡ng thÃ¡i');e.value=o,a.value=null,n.value=new Date,console.log('[StatDataStore] ÄÃ£ lÃ m má»›i')}catch(e){console.error('[StatDataStore] Lá»—i:',e),a.value=e instanceof Error?e.message:'Lá»—i khÃ´ng xÃ¡c Ä‘á»‹nh'}finally{t.value=!1}}}});function c(){const e=r(),{data:t,loading:n,error:l,lastRefreshTime:c}=a(e);return(0,o.onMounted)(()=>{null===t.value&&e.refresh()}),{statData:t,loading:n,error:l,lastRefreshTime:c,refresh:e.refresh}}function s(e,t,a){return _.get(e,t,a)}function i(e){return e&&'object'==typeof e?_.omitBy(e,(e,t)=>'$meta'===t||'$__META_EXTENSIBLE__$'===t):{}}function u(e,t=!1){return'boolean'==typeof e?e:'string'==typeof e?'æ˜¯'===e||'true'===e:t}function m(e){return Array.isArray(e)?0===e.length||'$__META_EXTENSIBLE__$'===e[0]?[]:e:e||''}const d={class:'summary-main-line'},p={class:'summary-title'},f={key:0,class:'summary-details'},y={key:0,class:'summary-wrapped-details'},v={class:'details-content'},k={class:'details-content-inner'},g=(0,o.defineComponent)({__name:'CommonStatus',props:{title:{},summaryDetails:{default:''},defaultOpen:{type:Boolean,default:!1},locked:{type:Boolean,default:!1},variant:{default:'section'},icon:{default:''},customClass:{default:''},inSplitLayout:{type:Boolean,default:!1}},setup(e){const t=e,a=(0,o.ref)(t.defaultOpen),n=(0,o.ref)(window.innerWidth),l=()=>{n.value=window.innerWidth};(0,o.onMounted)(()=>{window.addEventListener('resize',l)}),(0,o.onUnmounted)(()=>{window.removeEventListener('resize',l)});const r=(0,o.computed)(()=>{if(!t.summaryDetails)return!1;const e=t.summaryDetails.length;return t.inSplitLayout||n.value<=600?e>10:n.value<=1e3?e>20:e>30}),c=(0,o.computed)(()=>{const e=['details-status',`details-${t.variant}`];return t.locked&&e.push('locked'),a.value&&e.push('is-open'),t.customClass&&e.push(t.customClass),e.join(' ')}),s=()=>{t.locked||(a.value=!a.value)},i=e=>{const t=e;t.style.height='0',t.style.overflow='hidden',t.offsetHeight,t.style.height=`${t.scrollHeight}px`},u=e=>{const t=e;t.style.height='',t.style.overflow=''},m=e=>{const t=e;t.style.height=`${t.scrollHeight}px`,t.style.overflow='hidden',t.offsetHeight,t.style.height='0'},g=e=>{const t=e;t.style.height='',t.style.overflow=''};return(t,n)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',{class:(0,o.normalizeClass)((0,o.unref)(c))},[(0,o.createElementVNode)('div',{class:(0,o.normalizeClass)(['summary',{'has-wrapped-summary':(0,o.unref)(r)}]),onClick:s},[(0,o.createElementVNode)('div',d,[(0,o.createCommentVNode)(' Icon bÃªn trÃ¡i '),(0,o.createElementVNode)('span',{class:(0,o.normalizeClass)(['icon-star',{'is-open':(0,o.unref)(a)}])},(0,o.toDisplayString)(e.locked?'ðŸ”’':e.icon||'âœ¦'),3),(0,o.createCommentVNode)(' TiÃªu Ä‘á» '),(0,o.createElementVNode)('span',p,[(0,o.renderSlot)(t.$slots,'title',{},()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.title),1)])]),(0,o.createCommentVNode)(' TÃ³m táº¯t '),(0,o.createElementVNode)('span',f,(0,o.toDisplayString)(e.summaryDetails),1),(0,o.createCommentVNode)(' MÅ©i tÃªn '),(0,o.createElementVNode)('span',{class:(0,o.normalizeClass)(['arrow-toggle',{rotated:(0,o.unref)(a)}])},'â–¼',2)]),(0,o.createCommentVNode)(' TÃ³m táº¯t khi xuá»‘ng dÃ²ng '),e.summaryDetails&&(0,o.unref)(r)?((0,o.openBlock)(),(0,o.createElementBlock)('div',y,(0,o.toDisplayString)(e.summaryDetails),1)):(0,o.createCommentVNode)('v-if',!0)],2),(0,o.createVNode)(o.Transition,{name:'collapse',onEnter:i,onAfterEnter:u,onLeave:m,onAfterLeave:g,persisted:''},{default:(0,o.withCtx)(()=>[(0,o.withDirectives)((0,o.createElementVNode)('div',v,[(0,o.createElementVNode)('div',k,[(0,o.renderSlot)(t.$slots,'default')])],512),[[o.vShow,(0,o.unref)(a)]])]),_:3})],2))}});var N=function e(t){var a=l[t];if(void 0!==a)return a.exports;var o=l[t]={exports:{}};return n[t](o,o.exports,e),o.exports}(502);const V=(0,N.A)(g,[['__scopeId','data-v-b8f6b1b0']]),G=(0,o.defineComponent)({__name:'Ascension',setup(e){const{statData:t}=c(),a=(0,o.computed)(()=>t.value?s(t.value,'è§’è‰².ç­‰çº§',1):1),n=(0,o.computed)(()=>t.value?s(t.value,'ç™»ç¥žé•¿é˜¶',{}):null),l=(0,o.computed)(()=>{if(!n.value)return[];const e=i(s(n.value,'è¦ç´ ',{}));return Object.entries(e).map(([e,t])=>({name:e,description:String(t||'')}))}),r=(0,o.computed)(()=>{if(!n.value)return[];const e=i(s(n.value,'æƒèƒ½',{}));return Object.entries(e).map(([e,t])=>({name:e,description:String(t||'')}))}),u=(0,o.computed)(()=>{if(!n.value)return[];const e=i(s(n.value,'æ³•åˆ™',{}));return Object.entries(e).map(([e,t])=>({name:e,description:String(t||'')}))}),m=(0,o.computed)(()=>n.value?{name:s(n.value,'ç¥žä½',''),kingdom:s(n.value,'ç¥žå›½.åç§°',''),kingdomDesc:s(n.value,'ç¥žå›½.æè¿°','')}:{name:'',kingdom:'',kingdomDesc:''}),d=(0,o.computed)(()=>a.value>=13),p=(0,o.computed)(()=>a.value>=17),f=(0,o.computed)(()=>a.value>=21),y=(0,o.computed)(()=>a.value>=25),v=(0,o.computed)(()=>a.value<13?'ChÆ°a má»Ÿ':a.value>=25&&m.value.name?`ÄÃ£ thÄƒng tháº§n: ${m.value.name}`:a.value>=21?'Giai Ä‘oáº¡n: PhÃ¡p táº¯c':a.value>=17?'Giai Ä‘oáº¡n: Quyá»n nÄƒng':'Giai Ä‘oáº¡n: Yáº¿u tá»‘');return(e,t)=>((0,o.openBlock)(),(0,o.createBlock)(V,{title:'â™¾ï¸ Con Ä‘Æ°á»ng thÄƒng tháº§n',variant:'section','summary-details':(0,o.unref)(v),'default-open':!1},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(V,{title:'Yáº¿u tá»‘ (è¦ç´ )',variant:'sub-section',locked:!(0,o.unref)(d)}),(0,o.createVNode)(V,{title:'Quyá»n nÄƒng (æƒèƒ½)',variant:'sub-section',locked:!(0,o.unref)(p)}),(0,o.createVNode)(V,{title:'PhÃ¡p táº¯c (æ³•åˆ™)',variant:'sub-section',locked:!(0,o.unref)(f)}),(0,o.createVNode)(V,{title:'Tháº§n vá»‹ (ç¥žä½)',variant:'sub-section',locked:!(0,o.unref)(y)})]),_:1},8,['summary-details']))}}),Je=(0,o.defineComponent)({__name:'DestinyCharacter',props:{bePresent:{type:[Boolean,String]},name:{},level:{default:1},attributes:{default:()=>({})},isTied:{type:[Boolean,String],default:'KhÃ´ng'},affection:{default:0}},setup(e){const t=e,a=(0,o.ref)(u(t.bePresent,!0));const B=(0,o.computed)(()=>[{label:'Cáº¥p Ä‘á»™ (ç­‰çº§)',value:String(t.level)},{label:'Kháº¿ Æ°á»›c (å¥‘çº¦)',value:u(t.isTied)?'ÄÃ£ kÃ½':'ChÆ°a'},{label:'Háº£o cáº£m (å¥½æ„Ÿ)',value:String(t.affection)}]);return(t,l)=>((0,o.openBlock)(),(0,o.createBlock)(V,{title:e.name,variant:'entry','default-open':!1,'summary-details':`Cáº¥p ${e.level}`},{default:(0,o.withCtx)(()=>[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)((0,o.unref)(B),e=>((0,o.openBlock)(),(0,o.createElementBlock)('div',{key:e.label,class:'info-row'},[(0,o.createElementVNode)('span',{class:'property-name'},(0,o.toDisplayString)(e.label)+':',1),(0,o.createElementVNode)('span',be,(0,o.toDisplayString)(e.value),1)]))),128))]),_:1},8,['title','summary-details']))}})});</script></head>
