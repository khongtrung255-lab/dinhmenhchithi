<head><script type="module">import{createPinia as e,defineStore as t,storeToRefs as a}from'https://testingcf.jsdelivr.net/npm/pinia/+esm';var n={502(e,t){t.A=(e,t)=>{const a=e.__vccOpts||e;for(const[e,n]of t)a[e]=n;return a}}},l={};const o=Vue,r=t('status-bar-stat-data',()=>{const e=(0,o.ref)(null),t=(0,o.ref)(!0),a=(0,o.ref)(null),n=(0,o.ref)(null);return{data:e,loading:t,error:a,lastRefreshTime:n,refresh:()=>{try{t.value=!0;const l=getVariables({type:'message',message_id:getCurrentMessageId()}),o=_.get(l,'stat_data',{});if(!o||0===Object.keys(o).length)throw new Error('Kh√¥ng th·ªÉ l·∫•y d·ªØ li·ªáu tr·∫°ng th√°i');e.value=o,a.value=null,n.value=new Date,console.log('[StatDataStore] D·ªØ li·ªáu ƒë√£ l√†m m·ªõi')}catch(e){console.error('[StatDataStore] T·∫£i d·ªØ li·ªáu th·∫•t b·∫°i:',e),a.value=e instanceof Error?e.message:'L·ªói kh√¥ng x√°c ƒë·ªãnh'}finally{t.value=!1}}}});function c(){const e=r(),{data:t,loading:n,error:l,lastRefreshTime:c}=a(e);return(0,o.onMounted)(()=>{null===t.value&&e.refresh()}),{statData:t,loading:n,error:l,lastRefreshTime:c,refresh:e.refresh}}function s(e,t,a){return _.get(e,t,a)}function i(e){return e&&'object'==typeof e?_.omitBy(e,(e,t)=>'$meta'===t||'$__META_EXTENSIBLE__$'===t):{}}function u(e,t=!1){return'boolean'==typeof e?e:'string'==typeof e?'ÊòØ'===e||'true'===e:t}function m(e){return Array.isArray(e)?0===e.length||'$__META_EXTENSIBLE__$'===e[0]?[]:e:e||''}const d={class:'summary-main-line'},p={class:'summary-title'},f={key:0,class:'summary-details'},y={key:0,class:'summary-wrapped-details'},v={class:'details-content'},k={class:'details-content-inner'},g=(0,o.defineComponent)({__name:'CommonStatus',props:{title:{},summaryDetails:{default:''},defaultOpen:{type:Boolean,default:!1},locked:{type:Boolean,default:!1},variant:{default:'section'},icon:{default:''},customClass:{default:''},inSplitLayout:{type:Boolean,default:!1}},setup(e){const t=e,a=(0,o.ref)(t.defaultOpen),n=(0,o.ref)(window.innerWidth),l=()=>{n.value=window.innerWidth};(0,o.onMounted)(()=>{window.addEventListener('resize',l)}),(0,o.onUnmounted)(()=>{window.removeEventListener('resize',l)});const r=(0,o.computed)(()=>{if(!t.summaryDetails)return!1;const e=t.summaryDetails.length;return t.inSplitLayout||n.value<=600?e>10:n.value<=1e3?e>20:e>30}),c=(0,o.computed)(()=>{const e=['details-status',`details-${t.variant}`];return t.locked&&e.push('locked'),a.value&&e.push('is-open'),t.customClass&&e.push(t.customClass),e.join(' ')}),s=()=>{t.locked||(a.value=!a.value)},i=e=>{const t=e;t.style.height='0',t.style.overflow='hidden',t.offsetHeight,t.style.height=`${t.scrollHeight}px`},u=e=>{const t=e;t.style.height='',t.style.overflow=''},m=e=>{const t=e;t.style.height=`${t.scrollHeight}px`,t.style.overflow='hidden',t.offsetHeight,t.style.height='0'},g=e=>{const t=e;t.style.height='',t.style.overflow=''};return(t,n)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',{class:(0,o.normalizeClass)((0,o.unref)(c))},[(0,o.createElementVNode)('div',{class:(0,o.normalizeClass)(['summary',{'has-wrapped-summary':(0,o.unref)(r)}]),onClick:s},[(0,o.createElementVNode)('div',d,[(0,o.createCommentVNode)(' Bi·ªÉu t∆∞·ª£ng b√™n tr√°i '),(0,o.createElementVNode)('span',{class:(0,o.normalizeClass)(['icon-star',{'is-open':(0,o.unref)(a)}])},(0,o.toDisplayString)(e.locked?'üîí':e.icon||'‚ú¶'),3),(0,o.createCommentVNode)(' N·ªôi dung ti√™u ƒë·ªÅ '),(0,o.createElementVNode)('span',p,[(0,o.renderSlot)(t.$slots,'title',{},()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.title),1)])]),(0,o.createCommentVNode)(' Th√¥ng tin t√≥m t·∫Øt b√™n ph·∫£i '),e.summaryDetails&&!(0,o.unref)(r)?((0,o.openBlock)(),(0,o.createElementBlock)('span',f,(0,o.toDisplayString)(e.summaryDetails),1)):(0,o.createCommentVNode)('v-if',!0),(0,o.createCommentVNode)(' M≈©i t√™n b√™n ph·∫£i '),(0,o.createElementVNode)('span',{class:(0,o.normalizeClass)(['arrow-toggle',{rotated:(0,o.unref)(a)}])},'‚ñº',2)]),(0,o.createCommentVNode)(' Hi·ªÉn th·ªã t√≥m t·∫Øt xu·ªëng d√≤ng '),e.summaryDetails&&(0,o.unref)(r)?((0,o.openBlock)(),(0,o.createElementBlock)('div',y,(0,o.toDisplayString)(e.summaryDetails),1)):(0,o.createCommentVNode)('v-if',!0)],2),(0,o.createCommentVNode)(' Khu v·ª±c n·ªôi dung g·∫•p g·ªçn '),(0,o.createVNode)(o.Transition,{name:'collapse',onEnter:i,onAfterEnter:u,onLeave:m,onAfterLeave:g,persisted:''},{default:(0,o.withCtx)(()=>[(0,o.withDirectives)((0,o.createElementVNode)('div',v,[(0,o.createElementVNode)('div',k,[(0,o.renderSlot)(t.$slots,'default')])],512),[[o.vShow,(0,o.unref)(a)]])]),_:3})],2))}});var N=function e(t){var a=l[t];if(void 0!==a)return a.exports;var o=l[t]={exports:{}};return n[t](o,o.exports,e),o.exports}(502);const V=(0,N.A)(g,[['__scopeId','data-v-b8f6b1b0']]),B={key:0,class:'step-items-container'},E={key:0},b={class:'item-name'},h={class:'item-desc'},C={key:1,class:'empty-slot'},x={key:0,class:'step-items-container'},S={key:0},q={class:'item-name'},w={class:'item-desc'},D={key:1,class:'empty-slot'},T={key:0,class:'step-items-container'},L={key:0},O={class:'item-name'},A={class:'item-desc'},I={key:1,class:'empty-slot'},F={key:0,class:'god-tier-grid'},M={class:'step-item'},j={key:0,class:'value-main'},P={key:1,class:'empty-slot'},H={class:'step-item'},R={class:'value-main'},W={key:0,class:'step-item kingdom-desc'},U={class:'item-desc'},X={key:1,class:'step-item'},G=(0,o.defineComponent)({__name:'Ascension',setup(e){const{statData:t}=c(),a=(0,o.computed)(()=>t.value?s(t.value,'ËßíËâ≤.Á≠âÁ∫ß',1):1),n=(0,o.computed)(()=>t.value?s(t.value,'ÁôªÁ•ûÈïøÈò∂',{}):null),l=(0,o.computed)(()=>{if(!n.value)return[];const e=i(s(n.value,'Ë¶ÅÁ¥†',{}));return Object.entries(e).map(([e,t])=>({name:e,description:String(t||'')}))}),r=(0,o.computed)(()=>{if(!n.value)return[];const e=i(s(n.value,'ÊùÉËÉΩ',{}));return Object.entries(e).map(([e,t])=>({name:e,description:String(t||'')}))}),u=(0,o.computed)(()=>{if(!n.value)return[];const e=i(s(n.value,'Ê≥ïÂàô',{}));return Object.entries(e).map(([e,t])=>({name:e,description:String(t||'')}))}),m=(0,o.computed)(()=>n.value?{name:s(n.value,'Á•û‰Ωç',''),kingdom:s(n.value,'Á•ûÂõΩ.ÂêçÁß∞',''),kingdomDesc:s(n.value,'Á•ûÂõΩ.ÊèèËø∞','')}:{name:'',kingdom:'',kingdomDesc:''}),d=(0,o.computed)(()=>a.value>=13),p=(0,o.computed)(()=>a.value>=17),f=(0,o.computed)(()=>a.value>=21),y=(0,o.computed)(()=>a.value>=25),v=(0,o.computed)(()=>a.value<13?'Ch∆∞a m·ªü':a.value>=25&&m.value.name?''!==m.value.name.trim()?`ƒê√£ thƒÉng th·∫ßn: ${m.value.name}`:'ƒê√£ thƒÉng th·∫ßn':a.value>=21&&u.value.length>0?'Giai ƒëo·∫°n hi·ªán t·∫°i: Ph√°p t·∫Øc':a.value>=17&&r.value.length>0?'Giai ƒëo·∫°n hi·ªán t·∫°i: Quy·ªÅn nƒÉng':a.value>=13&&l.value.length>0?'Giai ƒëo·∫°n hi·ªán t·∫°i: Y·∫øu t·ªë':'Con ƒë∆∞·ªùng ƒë√£ m·ªü');return(e,t)=>((0,o.openBlock)(),(0,o.createBlock)(V,{title:'‚ôæÔ∏è Con ƒë∆∞·ªùng thƒÉng th·∫ßn',variant:'section','summary-details':(0,o.unref)(v),'default-open':!1},{default:(0,o.withCtx)(()=>[(0,o.createCommentVNode)(' Y·∫øu t·ªë '),(0,o.createVNode)(V,{title:'Y·∫øu t·ªë',variant:'sub-section','default-open':!1,locked:!(0,o.unref)(d)},{title:(0,o.withCtx)(()=>[...t[0]||(t[0]=[(0,o.createTextVNode)(' Y·∫øu t·ªë ',-1),(0,o.createElementVNode)('span',{class:'step-level-req'},'M·ªü kh√≥a c·∫•p 13',-1)])]),default:(0,o.withCtx)(()=>[(0,o.unref)(d)?((0,o.openBlock)(),(0,o.createElementBlock)('div',B,[(0,o.unref)(l).length>0?((0,o.openBlock)(),(0,o.createElementBlock)('div',E,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)((0,o.unref)(l),(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',{key:t,class:'step-item'},[(0,o.createElementVNode)('span',b,'‚ùñ '+(0,o.toDisplayString)(e.name)+':',1),(0,o.createElementVNode)('span',h,(0,o.toDisplayString)(e.description),1)]))),128))])):((0,o.openBlock)(),(0,o.createElementBlock)('p',C,'Ch∆∞a c√≥ y·∫øu t·ªë'))])):(0,o.createCommentVNode)('v-if',!0)]),_:1},8,['locked']),(0,o.createCommentVNode)(' Quy·ªÅn nƒÉng '),(0,o.createVNode)(V,{title:'Quy·ªÅn nƒÉng',variant:'sub-section','default-open':!1,locked:!(0,o.unref)(p)},{title:(0,o.withCtx)(()=>[...t[1]||(t[1]=[(0,o.createTextVNode)(' Quy·ªÅn nƒÉng ',-1),(0,o.createElementVNode)('span',{class:'step-level-req'},'M·ªü kh√≥a c·∫•p 17',-1)])]),default:(0,o.withCtx)(()=>[(0,o.unref)(p)?((0,o.openBlock)(),(0,o.createElementBlock)('div',x,[(0,o.unref)(r).length>0?((0,o.openBlock)(),(0,o.createElementBlock)('div',S,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)((0,o.unref)(r),(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',{key:t,class:'step-item'},[(0,o.createElementVNode)('span',q,'‚ùñ '+(0,o.toDisplayString)(e.name)+':',1),(0,o.createElementVNode)('span',w,(0,o.toDisplayString)(e.description),1)]))),128))])):((0,o.openBlock)(),(0,o.createElementBlock)('p',D,'Ch∆∞a c√≥ quy·ªÅn nƒÉng'))])):(0,o.createCommentVNode)('v-if',!0)]),_:1},8,['locked']),(0,o.createCommentVNode)(' Ph√°p t·∫Øc '),(0,o.createVNode)(V,{title:'Ph√°p t·∫Øc',variant:'sub-section','default-open':!1,locked:!(0,o.unref)(f)},{title:(0,o.withCtx)(()=>[...t[2]||(t[2]=[(0,o.createTextVNode)(' Ph√°p t·∫Øc ',-1),(0,o.createElementVNode)('span',{class:'step-level-req'},'M·ªü kh√≥a c·∫•p 21',-1)])]),default:(0,o.withCtx)(()=>[(0,o.unref)(f)?((0,o.openBlock)(),(0,o.createElementBlock)('div',T,[(0,o.unref)(u).length>0?((0,o.openBlock)(),(0,o.createElementBlock)('div',L,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)((0,o.unref)(u),(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',{key:t,class:'step-item'},[(0,o.createElementVNode)('span',O,'‚ùñ '+(0,o.toDisplayString)(e.name)+':',1),(0,o.createElementVNode)('span',A,(0,o.toDisplayString)(e.description),1)]))),128))])):((0,o.openBlock)(),(0,o.createElementBlock)('p',I,'(Ch∆∞a c√≥ ph√°p t·∫Øc)'))])):(0,o.createCommentVNode)('v-if',!0)]),_:1},8,['locked']),(0,o.createCommentVNode)(' Th·∫ßn v·ªã / Th·∫ßn qu·ªëc '),(0,o.createVNode)(V,{title:'Th·∫ßn v·ªã / Th·∫ßn qu·ªëc',variant:'sub-section','default-open':!1,locked:!(0,o.unref)(y)},{title:(0,o.withCtx)(()=>[...t[3]||(t[3]=[(0,o.createTextVNode)(' Th·∫ßn v·ªã / Th·∫ßn qu·ªëc ',-1),(0,o.createElementVNode)('span',{class:'step-level-req'},'M·ªü kh√≥a c·∫•p 25',-1)])]),default:(0,o.withCtx)(()=>[(0,o.unref)(y)?((0,o.openBlock)(),(0,o.createElementBlock)('div',F,[(0,o.createElementVNode)('div',null,[(0,o.createElementVNode)('div',M,[t[4]||(t[4]=(0,o.createElementVNode)('span',{class:'item-name'},'Th·∫ßn v·ªã: ',-1)),(0,o.unref)(m).name?((0,o.openBlock)(),(0,o.createElementBlock)('span',j,(0,o.toDisplayString)((0,o.unref)(m).name),1)):((0,o.openBlock)(),(0,o.createElementBlock)('span',P,'Ch∆∞a ƒë·∫°t t·ªõi'))])]),(0,o.createElementVNode)('div',null,[(0,o.unref)(m).kingdom?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createElementVNode)('div',H,[t[5]||(t[5]=(0,o.createElementVNode)('span',{class:'item-name'},'Th·∫ßn qu·ªëc: ',-1)),(0,o.createElementVNode)('span',R,(0,o.toDisplayString)((0,o.unref)(m).kingdom),1)]),(0,o.unref)(m).kingdomDesc?((0,o.openBlock)(),(0,o.createElementBlock)('div',W,[(0,o.createElementVNode)('span',U,(0,o.toDisplayString)((0,o.unref)(m).kingdomDesc),1)])):(0,o.createCommentVNode)('v-if',!0)],64)):((0,o.openBlock)(),(0,o.createElementBlock)('div',X,[...t[6]||(t[6]=[(0,o.createElementVNode)('span',{class:'item-name'},'Th·∫ßn qu·ªëc: ',-1),(0,o.createElementVNode)('span',{class:'empty-slot'},'Ch∆∞a khai ph√°',-1)])]))])])):(0,o.createCommentVNode)('v-if',!0)]),_:1},8,['locked'])]),_:1},8,['summary-details']))}}),J=(0,N.A)(G,[['__scopeId','data-v-1bdfd823']]);let Z=null;async function K(){return await async function(){return null===Z&&(Z=waitGlobalInitialized('Mvu').then(()=>{})),Z}(),Mvu.getMvuData({type:'message',message_id:getCurrentMessageId()})}const Q={ÂîØ‰∏Ä:7,Á•ûËØù:6,‰º†ËØ¥:5,Âè≤ËØó:4,Á®ÄÊúâ:3,‰ºòËâØ:2,ÊôÆÈÄö:1};function Y(e){return{ÂîØ‰∏Ä:'quality-unique',Á•ûËØù:'quality-mythic',‰º†ËØ¥:'quality-legendary',Âè≤ËØó:'quality-epic',Á®ÄÊúâ:'quality-rare',‰ºòËâØ:'quality-uncommon',ÊôÆÈÄö:'quality-common'}[e]||''}function ee(e){return'ÂîØ‰∏Ä'===e?'card-unique':''}function te(e){return Q[e]||0}function ae(e,t){return te(t.quality)-te(e.quality)}function ne(e){return e.sort(ae)}const le={class:'equipment-details value-main'},oe={class:'equipment-meta'},re={class:'equipment-meta'},ce={class:'equipment-meta'},se=(0,o.defineComponent)({__name:'EquipmentSlot',props:{equipmentName:{},quality:{default:''},tags:{default:''},effect:{default:''},description:{default:''},position:{default:''},type:{default:''}},setup(e){const t=e,a=(0,o.computed)(()=>{let e=t.equipmentName;return t.quality&&(e+=`(${t.quality})`),e}),n=(0,o.computed)(()=>{const e=[];return t.type&&e.push(`Lo·∫°i: ${t.type}`),t.position&&e.push(`V·ªã tr√≠: ${t.position}`),e.join(' | ')});return(t,l)=>((0,o.openBlock)(),(0,o.createBlock)(V,{title:(0,o.unref)(a),variant:'entry','default-open':!1,'custom-class':`equipment-entry ${(0,o.unref)(ee)(e.quality)}`,'summary-details':(0,o.unref)(n)},{title:(0,o.withCtx)(()=>[(0,o.createElementVNode)('span',{class:(0,o.normalizeClass)(['value-main',(0,o.unref)(Y)(e.quality)])},[(0,o.createTextVNode)((0,o.toDisplayString)(e.equipmentName),1),e.quality?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createTextVNode)('('+(0,o.toDisplayString)(e.quality)+')',1)],64)):(0,o.createCommentVNode)('v-if',!0)],2)]),default:(0,o.withCtx)(()=>[(0,o.createElementVNode)('div',le,[(0,o.createElementVNode)('div',oe,[l[0]||(l[0]=(0,o.createElementVNode)('strong',null,'Nh√£n: ',-1)),(0,o.createTextVNode)((0,o.toDisplayString)(e.tags),1)]),(0,o.createElementVNode)('div',re,[l[1]||(l[1]=(0,o.createElementVNode)('strong',null,'Hi·ªáu qu·∫£: ',-1)),(0,o.createTextVNode)((0,o.toDisplayString)(e.effect),1)]),(0,o.createElementVNode)('div',ce,[l[2]||(l[2]=(0,o.createElementVNode)('strong',null,'M√¥ t·∫£: ',-1)),(0,o.createTextVNode)((0,o.toDisplayString)(e.description),1)])])]),_:1},8,['title','custom-class','summary-details']))}}),ie=(0,N.A)(se,[['__scopeId','data-v-e000e852']]),ue={class:'skill-description value-main'},me={key:0,class:'skill-type'},de={class:'skill-meta'},pe={class:'skill-meta'},fe={class:'skill-meta'},ye=(0,o.defineComponent)({__name:'SkillItem',props:{name:{},quality:{default:''},cost:{default:''},tags:{default:''},effect:{default:''},description:{},type:{},otherTypeName:{default:'Kh√°c'},showTypeInSummary:{type:Boolean,default:!1},inSplitLayout:{type:Boolean,default:!1}},setup(e){const t=e,a=(0,o.computed)(()=>{let e=t.name;return t.quality&&(e+=`(${t.quality})`),e}),n=(0,o.computed)(()=>{const e=[];if(t.showTypeInSummary){let a='';'active'===t.type?a='Ch·ªß ƒë·ªông':'passive'===t.type?a='B·ªã ƒë·ªông':'other'===t.type&&t.otherTypeName&&(a=t.otherTypeName),a&&e.push(`Lo·∫°i: ${a}`)}return'active'!==t.type&&'other'!==t.type||!t.cost||e.push(`Ti√™u hao: ${t.cost}`),e.join(' | ')});return(t,l)=>((0,o.openBlock)(),(0,o.createBlock)(V,{title:(0,o.unref)(a),variant:'entry','default-open':!1,'custom-class':`skill-item ${(0,o.unref)(ee)(e.quality)}`,'summary-details':(0,o.unref)(n),'in-split-layout':e.inSplitLayout},{title:(0,o.withCtx)(()=>[(0,o.createElementVNode)('span',{class:(0,o.normalizeClass)(['value-main',(0,o.unref)(Y)(e.quality)])},[(0,o.createTextVNode)((0,o.toDisplayString)(e.name),1),e.quality?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createTextVNode)('('+(0,o.toDisplayString)(e.quality)+')',1)],64)):(0,o.createCommentVNode)('v-if',!0)],2)]),default:(0,o.withCtx)(()=>[(0,o.createElementVNode)('div',ue,[(0,o.createCommentVNode)(' Hi·ªÉn th·ªã lo·∫°i k·ªπ nƒÉng kh√°c trong ph·∫ßn m√¥ t·∫£ '),'other'===e.type&&e.otherTypeName&&!e.showTypeInSummary?((0,o.openBlock)(),(0,o.createElementBlock)('div',me,[l[0]||(l[0]=(0,o.createElementVNode)('strong',null,'Lo·∫°i: ',-1)),(0,o.createTextVNode)((0,o.toDisplayString)(e.otherTypeName),1)])):(0,o.createCommentVNode)('v-if',!0),(0,o.createElementVNode)('div',de,[l[1]||(l[1]=(0,o.createElementVNode)('strong',null,'Nh√£n: ',-1)),(0,o.createTextVNode)((0,o.toDisplayString)(e.tags),1)]),(0,o.createElementVNode)('div',pe,[l[2]||(l[2]=(0,o.createElementVNode)('strong',null,'Hi·ªáu qu·∫£: ',-1)),(0,o.createTextVNode)((0,o.toDisplayString)(e.effect),1)]),(0,o.createElementVNode)('div',fe,[l[3]||(l[3]=(0,o.createElementVNode)('strong',null,'M√¥ t·∫£: ',-1)),(0,o.createTextVNode)((0,o.toDisplayString)(e.description),1)])])]),_:1},8,['title','custom-class','summary-details','in-split-layout']))}}),ve=(0,N.A)(ye,[['__scopeId','data-v-3abf7dbd']]),ke={class:'info-section'},ge={class:'info-row presence-row'},Ne=['disabled'],Ve={class:'toggle-text'},Be={key:0,class:'toggle-loading'},Ee={class:'property-name'},be={class:'value-main'},he={key:0,class:'subsection-content'},Ce={class:'item-name'},xe={class:'item-desc'},Se={key:1,class:'subsection-content'},_e={class:'item-name'},qe={class:'item-desc'},we={key:2,class:'subsection-content'},De={class:'item-name'},Te={class:'item-desc'},Le={key:3,class:'subsection-content'},$e={key:0,class:'ascension-item'},Oe={class:'value-main'},Ae={key:1,class:'ascension-item'},Ie={class:'value-main'},Fe={key:2,class:'ascension-item'},Me={class:'item-desc'},je={class:'info-section'},ze={class:'subsection-content'},Pe={class:'attributes-grid'},He={class:'property-name'},Re={class:'value-main'},We={key:0,class:'subsection-content'},Ue={class:'equipment-list'},Xe={key:1,class:'subsection-content'},Ge={class:'skills-list'},Je={class:'info-section'},Ze={class:'property-name'},Ke={class:'value-main'},Qe={key:0,class:'affection-bar-container'},Ye=(0,o.defineComponent)({__name:'DestinyCharacter',props:{bePresent:{type:[Boolean,String]},name:{},lifeLevel:{default:'Kh√¥ng r√µ'},level:{default:1},race:{default:'Kh√¥ng r√µ'},identity:{default:()=>[]},occupation:{default:()=>[]},personality:{default:'Kh√¥ng r√µ'},favorites:{default:'Kh√¥ng r√µ'},appearance:{default:'Kh√¥ng r√µ'},adornments:{default:'Kh√¥ng r√µ'},equipment:{default:()=>({})},attributes:{default:()=>({})},ascension:{default:()=>({})},isTied:{type:[Boolean,String],default:'Kh√¥ng'},affection:{default:0},evaluation:{default:''},backstory:{default:'Kh√¥ng r√µ'},skills:{default:()=>({})}},setup(e){const t=e,a=(0,o.ref)(u(t.bePresent,!0)),n=(0,o.ref)(!1),l='string'==typeof t.bePresent;(0,o.watch)(()=>t.bePresent,e=>{a.value=u(e,!0)});const r=_.throttle(async()=>{if(!n.value){n.value=!0;try{const e=!a.value,n=l?e?'C√≥':'Kh√¥ng':e,o=await async function(e,t){try{const a=await K(),n=`stat_data.ÂëΩÂÆöÁ≥ªÁªü.ÂëΩÂÆö‰πã‰∫∫.${e}.ÊòØÂê¶Âú®Âú∫`;return _.set(a,n,t),await Mvu.replaceMvuData(a,{type:'message',message_id:getCurrentMessageId()}),!0}catch(e){return console.error('C√†i ƒë·∫∑t tr·∫°ng th√°i hi·ªán di·ªán th·∫•t b·∫°i:',e),!1}}(t.name,n);o&&(a.value=e)}finally{n.value=!1}}},500,{leading:!0,trailing:!1}),c=(0,o.ref)(window.innerWidth),m=()=>{c.value=window.innerWidth};(0,o.onMounted)(()=>{window.addEventListener('resize',m)}),(0,o.onUnmounted)(()=>{window.removeEventListener('resize',m)});const d=e=>{if(!e)return!1;const t=e.length;return c.value<=600?t>20:c.value<=1e3?t>30:t>50},p=(0,o.computed)(()=>{if(!t.identity)return'Kh√¥ng r√µ';if('string'==typeof t.identity)return t.identity;const e=t.identity.filter(e=>'$__META_EXTENSIBLE__$'!==e);return Array.isArray(e)?0===e.length?'Kh√¥ng r√µ':e.join('„ÄÅ'):'Kh√¥ng r√µ'}),f=(0,o.computed)(()=>{if(!t.occupation)return'Kh√¥ng r√µ';if('string'==typeof t.occupation)return t.occupation;const e=t.occupation.filter(e=>'$__META_EXTENSIBLE__$'!==e);return Array.isArray(e)?0===e.length?'Kh√¥ng r√µ':e.join('„ÄÅ'):'Kh√¥ng r√µ'}),y=(0,o.computed)(()=>{const e=t.affection||0,a=e<0,n=e>0;let l=0;a?l=Math.abs(e)/100*100:n&&(l=e/100*100);return{current:e,min:-100,max:100,text:a?`${e}/-100`:`${e}/100`,percentage:l.toFixed(1),isNegative:a,isPositive:n}}),v=(0,o.computed)(()=>{if(!t.equipment)return[];const e=i(t.equipment);return ne(Object.entries(e).map(([e,t])=>({name:e,quality:s(t,'Ph·∫©m ch·∫•t',''),type:s(t,'Lo·∫°i',''),tags:s(t,'Nh√£n',''),effect:s(t,'Hi·ªáu qu·∫£',''),description:s(t,'M√¥ t·∫£','')})))}),k=(0,o.computed)(()=>{if(!t.skills)return[];const e=i(t.skills),a=Object.entries(e).map(([e,t])=>({name:e,quality:s(t,'Ph·∫©m ch·∫•t',''),type:s(t,'Lo·∫°i',''),cost:s(t,'Ti√™u hao',''),tags:s(t,'Nh√£n',''),effect:s(t,'Hi·ªáu qu·∫£',''),description:s(t,'M√¥ t·∫£','')})),n=a.filter(e=>'Ch·ªß ƒë·ªông'===e.type),l=a.filter(e=>'B·ªã ƒë·ªông'===e.type),o=a.filter(e=>'Ch·ªß ƒë·ªông'!==e.type&&'B·ªã ƒë·ªông'!==e.type);return ne(n),ne(l),ne(o),[...n,...l,...o]}),g=(0,o.computed)(()=>{if(!t.ascension||'object'!=typeof t.ascension)return{enabled:!1,elements:[],powers:[],laws:[],position:'',realm:{name:'',description:''}};const e=u(s(t.ascension,'C√≥ m·ªü kh√≥a',!1)),a=i(s(t.ascension,'Y·∫øu t·ªë',{})),n=i(s(t.ascension,'Quy·ªÅn nƒÉng',{})),l=i(s(t.ascension,'Ph√°p t·∫Øc',{}));return{enabled:e,elements:Object.entries(a).map(([e,t])=>({name:e,description:String(t||'')})),powers:Object.entries(n).map(([e,t])=>({name:e,description:String(t||'')})),laws:Object.entries(l).map(([e,t])=>({name:e,description:String(t||'')})),position:s(t.ascension,'Th·∫ßn v·ªã',''),realm:{name:s(t.ascension,'Th·∫ßn qu·ªëc.T√™n',''),description:s(t.ascension,'Th·∫ßn qu·ªëc.M√¥ t·∫£','')}}}),N=(0,o.computed)(()=>{if(!g.value.enabled)return'Ch∆∞a m·ªü';const e=[];if(g.value.elements.length>0){const t=g.value.elements.map(e=>e.name).join('Ôºå');e.push(`Y·∫øu t·ªë: ${t}`)}if(g.value.powers.length>0){const t=g.value.powers.map(e=>e.name).join('Ôºå');e.push(`Quy·ªÅn nƒÉng: ${t}`)}if(g.value.laws.length>0){const t=g.value.laws.map(e=>e.name).join('Ôºå');e.push(`Ph√°p t·∫Øc: ${t}`)}return g.value.position&&e.push(`Th·∫ßn v·ªã: ${g.value.position}`),e.length>0?e.join(' | '):'ƒê√£ m·ªü'}),B=(0,o.computed)(()=>[{icon:'‚öúÔ∏è',label:'C·∫•p b·∫≠c sinh m·ªánh',value:t.lifeLevel},{icon:'üéØ',label:'C·∫•p ƒë·ªô',value:String(t.level)},{icon:'üß¨',label:'Ch·ªßng t·ªôc',value:t.race},{icon:'üëë',label:'Th√¢n ph·∫≠n',value:p.value},{icon:'‚öñÔ∏è',label:'Ngh·ªÅ nghi·ªáp',value:f.value},{icon:'üé≠',label:'T√≠nh c√°ch',value:t.personality},{icon:'üíñ',label:'S·ªü th√≠ch',value:t.favorites},{icon:'üå∏',label:'ƒê·∫∑c ƒëi·ªÉm ngo·∫°i h√¨nh',value:t.appearance},{icon:'üëó',label:'Trang ph·ª•c',value:t.adornments}]),E=(0,o.computed)(()=>{const e=t.attributes||{};return[{icon:'üí™',label:'S·ª©c m·∫°nh',value:String(e.ÂäõÈáè??0)},{icon:'‚ö°',label:'Nhanh nh·∫πn',value:String(e.ÊïèÊç∑??0)},{icon:'üõ°Ô∏è',label:'Th·ªÉ ch·∫•t',value:String(e.‰ΩìË¥®??0)},{icon:'üß†',label:'Tr√≠ tu·ªá',value:String(e.Êô∫Âäõ??0)},{icon:'‚ú®',label:'Tinh th·∫ßn',value:String(e.Á≤æÁ•û??0)}]}),b=(0,o.computed)(()=>[{icon:'üíç',label:'ƒê√£ k√Ω k·∫øt kh·∫ø ∆∞·ªõc?',value:u(t.isTied)?'C√≥':'Kh√¥ng'},{icon:'‚ù§Ô∏è',label:'ƒê·ªô h·∫£o c·∫£m',value:y.value.text,showBar:!0},{icon:'üí≠',label:'ƒê√°nh gi√°',value:t.evaluation||'Ch∆∞a c√≥ ƒë√°nh gi√°'},{icon:'üìú',label:'Ti·ªÉu s·ª≠',value:t.backstory}]);return(t,l)=>((0,o.openBlock)(),(0,o.createBlock)(V,{title:e.name,variant:'entry','default-open':!1,'summary-details':`‚ù§Ô∏è ${(0,o.unref)(y).text}`,'custom-class':'destiny-character'},{default:(0,o.withCtx)(()=>[(0,o.createCommentVNode)(' Khu v·ª±c th√¥ng tin c∆° b·∫£n '),(0,o.createElementVNode)('div',ke,[(0,o.createCommentVNode)(' C√≥ ·ªü ƒë√¢y kh√¥ng '),(0,o.createElementVNode)('div',ge,[l[1]||(l[1]=(0,o.createElementVNode)('span',{class:'property-name'},[(0,o.createElementVNode)('i',{class:'fa-solid fa-location-dot'}),(0,o.createTextVNode)(' C√≥ ·ªü ƒë√¢y kh√¥ng:')],-1)),(0,o.createElementVNode)('button',{class:(0,o.normalizeClass)(['presence-toggle',{present:(0,o.unref)(a),absent:!(0,o.unref)(a),toggling:(0,o.unref)(n)}]),disabled:(0,o.unref)(n),onClick:l[0]||(l[0]=(...e)=>(0,o.unref)(r)&&(0,o.unref)(r)(...e))},[(0,o.createElementVNode)('i',{class:(0,o.normalizeClass)((0,o.unref)(a)?'fa-solid fa-circle-check':'fa-solid fa-circle-xmark')},null,2),(0,o.createElementVNode)('span',Ve,(0,o.toDisplayString)((0,o.unref)(a)?'C√≥':'Kh√¥ng'),1),(0,o.unref)(n)?((0,o.openBlock)(),(0,o.createElementBlock)('span',Be,'...')):(0,o.createCommentVNode)('v-if',!0)],10,Ne)]),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)((0,o.unref)(B),e=>((0,o.openBlock)(),(0,o.createElementBlock)('div',{key:e.label,class:(0,o.normalizeClass)(['info-row',{'wrap-value':d(e.value)}])},[(0,o.createElementVNode)('span',Ee,(0,o.toDisplayString)(e.icon)+' '+(0,o.toDisplayString)(e.label)+':',1),(0,o.createElementVNode)('span',be,(0,o.toDisplayString)(e.value),1)],2))),128))]),(0,o.createCommentVNode)(' Con ƒë∆∞·ªùng thƒÉng th·∫ßn '),(0,o.createVNode)(V,{title:'‚ôæÔ∏è Con ƒë∆∞·ªùng thƒÉng th·∫ßn',variant:'sub-section','default-open':!1,locked:!(0,o.unref)(g).enabled,'summary-details':(0,o.unref)(N),'custom-class':'ascension-section'},{default:(0,o.withCtx)(()=>[(0,o.unref)(g).enabled?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createCommentVNode)(' Y·∫øu t·ªë '),(0,o.unref)(g).elements.length>0?((0,o.openBlock)(),(0,o.createElementBlock)('div',he,[l[2]||(l[2]=(0,o.createElementVNode)('div',{class:'subsection-label'},'‚ùñ Y·∫øu t·ªë',-1)),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)((0,o.unref)(g).elements,e=>((0,o.openBlock)(),(0,o.createElementBlock)('div',{key:e.name,class:'ascension-item'},[(0,o.createElementVNode)('span',Ce,(0,o.toDisplayString)(e.name)+':',1),(0,o.createElementVNode)('span',xe,(0,o.toDisplayString)(e.description),1)]))),128))])):(0,o.createCommentVNode)('v-if',!0),(0,o.createCommentVNode)(' Quy·ªÅn nƒÉng '),(0,o.unref)(g).powers.length>0?((0,o.openBlock)(),(0,o.createElementBlock)('div',Se,[l[3]||(l[3]=(0,o.createElementVNode)('div',{class:'subsection-label'},'‚ùñ Quy·ªÅn nƒÉng',-1)),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)((0,o.unref)(g).powers,e=>((0,o.openBlock)(),(0,o.createElementBlock)('div',{key:e.name,class:'ascension-item'},[(0,o.createElementVNode)('span',_e,(0,o.toDisplayString)(e.name)+':',1),(0,o.createElementVNode)('span',qe,(0,o.toDisplayString)(e.description),1)]))),128))])):(0,o.createCommentVNode)('v-if',!0),(0,o.createCommentVNode)(' Ph√°p t·∫Øc '),(0,o.unref)(g).laws.length>0?((0,o.openBlock)(),(0,o.createElementBlock)('div',we,[l[4]||(l[4]=(0,o.createElementVNode)('div',{class:'subsection-label'},'‚ùñ Ph√°p t·∫Øc',-1)),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)((0,o.unref)(g).laws,e=>((0,o.openBlock)(),(0,o.createElementBlock)('div',{key:e.name,class:'ascension-item'},[(0,o.createElementVNode)('span',De,(0,o.toDisplayString)(e.name)+':',1),(0,o.createElementVNode)('span',Te,(0,o.toDisplayString)(e.description),1)]))),128))])):(0,o.createCommentVNode)('v-if',!0),(0,o.createCommentVNode)(' Th·∫ßn v·ªã / Th·∫ßn qu·ªëc '),(0,o.unref)(g).position||(0,o.unref)(g).realm.name?((0,o.openBlock)(),(0,o.createElementBlock)('div',Le,[l[7]||(l[7]=(0,o.createElementVNode)('div',{class:'subsection-label'},'‚ùñ Th·∫ßn v·ªã / Th·∫ßn qu·ªëc',-1)),(0,o.unref)(g).position?((0,o.openBlock)(),(0,o.createElementBlock)('div',$e,[l[5]||(l[5]=(0,o.createElementVNode)('span',{class:'item-name'},'Th·∫ßn v·ªã:',-1)),(0,o.createElementVNode)('span',Oe,(0,o.toDisplayString)((0,o.unref)(g).position),1)])):(0,o.createCommentVNode)('v-if',!0),(0,o.unref)(g).realm.name?((0,o.openBlock)(),(0,o.createElementBlock)('div',Ae,[l[6]||(l[6]=(0,o.createElementVNode)('span',{class:'item-name'},'Th·∫ßn qu·ªëc:',-1)),(0,o.createElementVNode)('span',Ie,(0,o.toDisplayString)((0,o.unref)(g).realm.name),1)])):(0,o.createCommentVNode)('v-if',!0),(0,o.unref)(g).realm.description?((0,o.openBlock)(),(0,o.createElementBlock)('div',Fe,[(0,o.createElementVNode)('span',Me,(0,o.toDisplayString)((0,o.unref)(g).realm.description),1)])):(0,o.createCommentVNode)('v-if',!0)])):(0,o.createCommentVNode)('v-if',!0)],64)):(0,o.createCommentVNode)('v-if',!0)]),_:1},8,['locked','summary-details']),(0,o.createCommentVNode)(' Khu v·ª±c chi·∫øn ƒë·∫•u '),(0,o.createElementVNode)('div',je,[l[11]||(l[11]=(0,o.createElementVNode)('div',{class:'section-header'},'‚öîÔ∏è Th√¥ng tin chi·∫øn ƒë·∫•u',-1)),(0,o.createCommentVNode)(' Thu·ªôc t√≠nh ')])])])})});</script></head>